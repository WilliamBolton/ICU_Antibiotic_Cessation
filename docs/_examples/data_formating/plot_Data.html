

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>MIMIC DF &mdash; fyp2020-username 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-rendered-html.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Variability of treatment duration" href="plot_Variability%20of%20treatment%20duration.html" />
    <link rel="prev" title="One Patient example" href="one_patient.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> fyp2020-username
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/setup.html">Tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Example Galleries</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The tutorial gallery</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="main_full.html">Grouping Antibiotics</a></li>
<li class="toctree-l2"><a class="reference internal" href="one_patient.html">One Patient example</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">MIMIC DF</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_Variability%20of%20treatment%20duration.html">Variability of treatment duration</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_antibiotic_analysis.html">Antibiotic analysis</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">fyp2020-username</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">The tutorial gallery</a> &raquo;</li>
        
      <li>MIMIC DF</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/_examples/data_formating/plot_Data.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-examples-data-formating-plot-data-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="mimic-df">
<span id="sphx-glr-examples-data-formating-plot-data-py"></span><h1>MIMIC DF<a class="headerlink" href="#mimic-df" title="Permalink to this headline">Â¶</a></h1>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/wb1115/ICU_Antibiotic_Cessation/main/examples/data_formating/plot_Data.py:39: SettingWithCopyWarning:
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  filtered_antibiotics[&#39;length_of_treatment&#39;] = filtered_antibiotics[&#39;stoptime&#39;] - filtered_antibiotics[&#39;starttime&#39;]
(2149, 11)
(21546, 16)
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 1430858 entries, 0 to 1430857
Data columns (total 38 columns):
 #   Column               Non-Null Count    Dtype
---  ------               --------------    -----
 0   subject_id           1430858 non-null  int64
 1   hadm_id              1430858 non-null  int64
 2   stay_id              1430858 non-null  int64
 3   first_careunit       1430858 non-null  object
 4   last_careunit        1430858 non-null  object
 5   intime               1430858 non-null  object
 6   outtime              1430858 non-null  object
 7   los                  1430858 non-null  float64
 8   seq_num              1430858 non-null  int64
 9   icd_code             1430858 non-null  object
 10  icd_version          1430858 non-null  int64
 11  antibiotic           1430858 non-null  object
 12  route                1430858 non-null  object
 13  starttime            1430858 non-null  datetime64[ns]
 14  stoptime             1430858 non-null  datetime64[ns]
 15  length_of_treatment  1430858 non-null  timedelta64[ns]
 16  microevent_id        1430858 non-null  int64
 17  micro_specimen_id    1430858 non-null  int64
 18  chartdate            1430858 non-null  object
 19  charttime            1430858 non-null  object
 20  spec_itemid          1430858 non-null  int64
 21  spec_type_desc       1430858 non-null  object
 22  test_seq             1430858 non-null  int64
 23  storedate            1426508 non-null  object
 24  storetime            1425985 non-null  object
 25  test_itemid          1430858 non-null  int64
 26  test_name            1430858 non-null  object
 27  org_itemid           651549 non-null   float64
 28  org_name             651549 non-null   object
 29  isolate_num          651549 non-null   float64
 30  quantity             0 non-null        object
 31  ab_itemid            539364 non-null   float64
 32  ab_name              539364 non-null   object
 33  dilution_text        514617 non-null   object
 34  dilution_comparison  514485 non-null   object
 35  dilution_value       514485 non-null   float64
 36  interpretation       539364 non-null   object
 37  comments             1235044 non-null  object
dtypes: datetime64[ns](2), float64(5), int64(10), object(20), timedelta64[ns](1)
memory usage: 425.7+ MB
None
(1430858, 38)
Index([&#39;subject_id&#39;, &#39;hadm_id&#39;, &#39;stay_id&#39;, &#39;first_careunit&#39;, &#39;last_careunit&#39;,
       &#39;intime&#39;, &#39;outtime&#39;, &#39;los&#39;, &#39;seq_num&#39;, &#39;icd_code&#39;, &#39;icd_version&#39;,
       &#39;antibiotic&#39;, &#39;route&#39;, &#39;starttime&#39;, &#39;stoptime&#39;, &#39;length_of_treatment&#39;,
       &#39;microevent_id&#39;, &#39;micro_specimen_id&#39;, &#39;chartdate&#39;, &#39;charttime&#39;,
       &#39;spec_itemid&#39;, &#39;spec_type_desc&#39;, &#39;test_seq&#39;, &#39;storedate&#39;, &#39;storetime&#39;,
       &#39;test_itemid&#39;, &#39;test_name&#39;, &#39;org_itemid&#39;, &#39;org_name&#39;, &#39;isolate_num&#39;,
       &#39;quantity&#39;, &#39;ab_itemid&#39;, &#39;ab_name&#39;, &#39;dilution_text&#39;,
       &#39;dilution_comparison&#39;, &#39;dilution_value&#39;, &#39;interpretation&#39;, &#39;comments&#39;],
      dtype=&#39;object&#39;)
&lt;bound method NDFrame.head of          subject_id   hadm_id   stay_id  ... dilution_value interpretation                                           comments
0          10656173  25778760  30001555  ...            NaN            NaN                                                NaN
1          10656173  25778760  30001555  ...            NaN            NaN                                                NaN
2          10656173  25778760  30001555  ...            NaN            NaN                                       NO GROWTH.
3          10656173  25778760  30001555  ...            NaN            NaN  NEGATIVE FOR LEGIONELLA SEROGROUP 1 ANTIGEN.  ...
4          10656173  25778760  30001555  ...            NaN            NaN  &lt;10 PMNs and &lt;10 epithelial cells/100X field. ...
...             ...       ...       ...  ...            ...            ...                                                ...
1430853    15689523  23914765  39918058  ...            NaN            NaN  Negative for toxigenic C. difficile by the Ill...
1430854    15689523  23914765  39918058  ...            NaN            NaN  NO ACID FAST BACILLI SEEN ON CONCENTRATED SMEA...
1430855    15689523  23914765  39918058  ...            NaN            NaN  NO ACID FAST BACILLI SEEN ON CONCENTRATED SMEA...
1430856    15689523  23914765  39918058  ...            NaN            NaN                        NO MYCOBACTERIA ISOLATED.
1430857    15689523  23914765  39918058  ...            NaN            NaN                        NO MYCOBACTERIA ISOLATED.

[1430858 rows x 38 columns]&gt;
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 800 entries, 0 to 799
Data columns (total 38 columns):
 #   Column               Non-Null Count  Dtype
---  ------               --------------  -----
 0   subject_id           800 non-null    int64
 1   hadm_id              800 non-null    int64
 2   stay_id              800 non-null    int64
 3   first_careunit       800 non-null    object
 4   last_careunit        800 non-null    object
 5   intime               800 non-null    object
 6   outtime              800 non-null    object
 7   los                  800 non-null    float64
 8   seq_num              800 non-null    int64
 9   icd_code             800 non-null    object
 10  icd_version          800 non-null    int64
 11  antibiotic           800 non-null    object
 12  route                800 non-null    object
 13  starttime            800 non-null    datetime64[ns]
 14  stoptime             800 non-null    datetime64[ns]
 15  length_of_treatment  800 non-null    timedelta64[ns]
 16  microevent_id        800 non-null    int64
 17  micro_specimen_id    800 non-null    int64
 18  chartdate            800 non-null    object
 19  charttime            800 non-null    object
 20  spec_itemid          800 non-null    int64
 21  spec_type_desc       800 non-null    object
 22  test_seq             800 non-null    int64
 23  storedate            784 non-null    object
 24  storetime            784 non-null    object
 25  test_itemid          800 non-null    int64
 26  test_name            800 non-null    object
 27  org_itemid           48 non-null     float64
 28  org_name             48 non-null     object
 29  isolate_num          48 non-null     float64
 30  quantity             0 non-null      object
 31  ab_itemid            0 non-null      float64
 32  ab_name              0 non-null      object
 33  dilution_text        0 non-null      object
 34  dilution_comparison  0 non-null      object
 35  dilution_value       0 non-null      float64
 36  interpretation       0 non-null      object
 37  comments             768 non-null    object
dtypes: datetime64[ns](2), float64(5), int64(10), object(20), timedelta64[ns](1)
memory usage: 243.8+ KB
None
(800, 38)
Index([&#39;subject_id&#39;, &#39;hadm_id&#39;, &#39;stay_id&#39;, &#39;first_careunit&#39;, &#39;last_careunit&#39;,
       &#39;intime&#39;, &#39;outtime&#39;, &#39;los&#39;, &#39;seq_num&#39;, &#39;icd_code&#39;, &#39;icd_version&#39;,
       &#39;antibiotic&#39;, &#39;route&#39;, &#39;starttime&#39;, &#39;stoptime&#39;, &#39;length_of_treatment&#39;,
       &#39;microevent_id&#39;, &#39;micro_specimen_id&#39;, &#39;chartdate&#39;, &#39;charttime&#39;,
       &#39;spec_itemid&#39;, &#39;spec_type_desc&#39;, &#39;test_seq&#39;, &#39;storedate&#39;, &#39;storetime&#39;,
       &#39;test_itemid&#39;, &#39;test_name&#39;, &#39;org_itemid&#39;, &#39;org_name&#39;, &#39;isolate_num&#39;,
       &#39;quantity&#39;, &#39;ab_itemid&#39;, &#39;ab_name&#39;, &#39;dilution_text&#39;,
       &#39;dilution_comparison&#39;, &#39;dilution_value&#39;, &#39;interpretation&#39;, &#39;comments&#39;],
      dtype=&#39;object&#39;)
&lt;bound method NDFrame.head of      subject_id   hadm_id   stay_id  ... dilution_value interpretation                                           comments
0      10656173  25778760  30001555  ...            NaN            NaN                                                NaN
1      10656173  25778760  30001555  ...            NaN            NaN                                                NaN
2      10656173  25778760  30001555  ...            NaN            NaN                                       NO GROWTH.
3      10656173  25778760  30001555  ...            NaN            NaN  NEGATIVE FOR LEGIONELLA SEROGROUP 1 ANTIGEN.  ...
4      10656173  25778760  30001555  ...            NaN            NaN  &lt;10 PMNs and &lt;10 epithelial cells/100X field. ...
..          ...       ...       ...  ...            ...            ...                                                ...
795    10656173  25778760  37985659  ...            NaN            NaN                                       NO GROWTH.
796    10656173  25778760  37985659  ...            NaN            NaN  MIXED BACTERIAL FLORA ( &gt;= 3 COLONY TYPES), CO...
797    10656173  25778760  37985659  ...            NaN            NaN                        NO MYCOBACTERIA ISOLATED.
798    10656173  25778760  37985659  ...            NaN            NaN                                                ___
799    10656173  25778760  37985659  ...            NaN            NaN                                                ___

[800 rows x 38 columns]&gt;
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># Libraries</span>
 <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
 <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
 <span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
 <span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
 <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

 <span class="c1"># Create dataframes</span>
 <span class="n">icustays</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/wb1115/mimic-iv-1.0/icu/icustays.csv&quot;</span><span class="p">)</span>
 <span class="n">diagnoses_icd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/wb1115/mimic-iv-1.0/hosp/diagnoses_icd.csv&quot;</span><span class="p">)</span>
 <span class="c1">#procedures_icd = pd.read_csv(r&quot;/home/wb1115/mimic-iv-1.0/hosp/procedures_icd.csv&quot;, dtype={&#39;icd_code&#39;: &#39;object&#39;})</span>
 <span class="n">antibiotic</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/wb1115/mimic-iv-1.0/mimic_derived_antibiotic.csv&quot;</span><span class="p">)</span>
 <span class="n">microbiologyevents</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/wb1115/mimic-iv-1.0/hosp/microbiologyevents.csv&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="s1">&#39;comments&#39;</span><span class="p">:</span> <span class="s1">&#39;object&#39;</span><span class="p">})</span>
 <span class="c1">#pharmacy = pd.read_csv(r&quot;/home/wb1115/mimic-iv-1.0/hosp/pharmacy.csv&quot;, dtype={&#39;lockout_interval&#39;: &#39;object&#39;, &#39;one_hr_max&#39;: &#39;object&#39;, &#39;expirationdate&#39;: &#39;object&#39;, &#39;fill_quantity&#39;: &#39;object&#39;}, parse_dates=[&#39;starttime&#39;, &#39;stoptime&#39;, &#39;verifiedtime&#39;, &#39;expirationdate&#39;])</span>
 <span class="c1">#print(pharmacy.info())</span>


 <span class="c1"># Check dataframes</span>
 <span class="c1">#print(antibiotic.shape)</span>
 <span class="c1">#print(procedures_icd.dtypes)</span>
 <span class="c1">#print(icustays.shape)</span>
 <span class="c1">#print(diagnoses_icd.shape)</span>

 <span class="c1"># Filter dataframes</span>
 <span class="n">filtered_diagnoses_icd</span> <span class="o">=</span> <span class="n">diagnoses_icd</span><span class="p">[</span><span class="n">diagnoses_icd</span><span class="p">[</span><span class="s2">&quot;icd_code&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;99731&quot;</span><span class="p">,</span> <span class="s2">&quot;J95851&quot;</span><span class="p">])]</span>
 <span class="c1">#print(filtered_diagnoses_icd.info())</span>


 <span class="c1">#print(antibiotic.info())</span>
 <span class="n">antibiotic</span><span class="p">[</span><span class="s2">&quot;starttime&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">antibiotic</span><span class="p">[</span><span class="s2">&quot;starttime&quot;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
 <span class="n">antibiotic</span><span class="p">[</span><span class="s2">&quot;stoptime&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">antibiotic</span><span class="p">[</span><span class="s2">&quot;stoptime&quot;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
 <span class="n">filtered_antibiotics</span> <span class="o">=</span> <span class="n">antibiotic</span><span class="p">[(</span><span class="n">antibiotic</span><span class="p">[</span><span class="s2">&quot;route&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;IV&quot;</span><span class="p">)]</span>
 <span class="n">filtered_antibiotics</span><span class="p">[</span><span class="s1">&#39;length_of_treatment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filtered_antibiotics</span><span class="p">[</span><span class="s1">&#39;stoptime&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">filtered_antibiotics</span><span class="p">[</span><span class="s1">&#39;starttime&#39;</span><span class="p">]</span>
 <span class="n">filtered_antibiotics</span> <span class="o">=</span> <span class="n">filtered_antibiotics</span><span class="p">[(</span><span class="n">filtered_antibiotics</span><span class="p">[</span><span class="s2">&quot;length_of_treatment&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;0 days&#39;</span><span class="p">)]</span>

 <span class="c1"># Check filtered dataframes</span>
 <span class="c1">#print(filtered_diagnoses_icd.shape)</span>
 <span class="c1">#print(filtered_diagnoses_icd.head)</span>
 <span class="c1">#print(&#39;size =&#39;, filtered_antibiotics.size)</span>
 <span class="c1">#print(filtered_antibiotics.info())</span>
 <span class="c1">#print(filtered_antibiotics.head)</span>


 <span class="c1"># Join dataframes</span>
 <span class="n">merge_one</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">icustays</span><span class="p">,</span> <span class="n">filtered_diagnoses_icd</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">merge_one</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

 <span class="n">merge_two</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">merge_one</span><span class="p">,</span> <span class="n">filtered_antibiotics</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">merge_two</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

 <span class="n">merge_three</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">merge_two</span><span class="p">,</span> <span class="n">microbiologyevents</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>
 <span class="n">merge_n</span> <span class="o">=</span> <span class="n">merge_three</span>

 <span class="c1"># Check joined dataframes</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">merge_n</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">merge_n</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">merge_n</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">merge_n</span><span class="o">.</span><span class="n">head</span><span class="p">)</span>

 <span class="c1"># One patient</span>
 <span class="n">one_patient</span> <span class="o">=</span> <span class="n">merge_n</span><span class="p">[</span><span class="n">merge_n</span><span class="p">[</span><span class="s2">&quot;subject_id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;10656173&quot;</span><span class="p">])]</span>
 <span class="n">one_patient_condensed</span> <span class="o">=</span> <span class="n">merge_two</span><span class="p">[</span><span class="n">merge_two</span><span class="p">[</span><span class="s2">&quot;subject_id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;10656173&quot;</span><span class="p">])]</span>


 <span class="nb">print</span><span class="p">(</span><span class="n">one_patient</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">one_patient</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">one_patient</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">one_patient</span><span class="o">.</span><span class="n">head</span><span class="p">)</span>

 <span class="c1"># Save df</span>
 <span class="n">merge_n</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;ICU_diagnoses_antibiotics_microbiology.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="n">merge_two</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;ICU_diagnoses_antibiotics.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

 <span class="n">one_patient</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;One_patient_10656173.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="n">one_patient_condensed</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;One_patient_condensed_10656173.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  33.920 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-data-formating-plot-data-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/c31cbe2e400c022cc867fcbab9310e3c/plot_Data.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_Data.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/45a23c90b2fe8f2e6cfb5273d3e10169/plot_Data.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_Data.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="plot_Variability%20of%20treatment%20duration.html" class="btn btn-neutral float-right" title="Variability of treatment duration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="one_patient.html" class="btn btn-neutral float-left" title="One Patient example" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, &lt;Full name&gt;.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>